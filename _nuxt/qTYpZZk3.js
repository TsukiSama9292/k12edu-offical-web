import{u as Y,m as Z,b as ie,a as re,c as ce}from"./iTbLYvtj.js";import{Y as A,S as E,n as d,J as ve,q as R,L as z,aE as V,aN as F,K as H,af as W,aU as me,b0 as de,b1 as ye,an as fe,aV as X,aY as pe,W as J,$ as ge,a4 as he,a3 as be,b as M,a$ as Ie}from"./p07oURf3.js";import{u as Se}from"./BjlLlRdS.js";const P=Symbol.for("vuetify:layout"),G=Symbol.for("vuetify:layout-item"),U=1e3,xe=A({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Be=A({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function we(){const e=E(P);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function ke(e){const s=E(P);if(!s)throw new Error("[Vuetify] Could not find injected layout");const o=e.id??`layout-item-${me()}`,u=F("useLayoutItem");X(G,{id:o});const n=H(!1);de(()=>n.value=!0),ye(()=>n.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:i}=s.register(u,{...e,active:d(()=>n.value?!1:e.active.value),id:o});return fe(()=>s.unregister(o)),{layoutItemStyles:r,layoutRect:s.layoutRect,layoutItemScrimStyles:i}}const Le=(e,s,o,u)=>{let n={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...n}}];for(const i of e){const v=s.get(i),p=o.get(i),h=u.get(i);if(!v||!p||!h)continue;const b={...n,[v.value]:parseInt(n[v.value],10)+(h.value?parseInt(p.value,10):0)};r.push({id:i,layer:b}),n=b}return r};function $e(e){const s=E(P,null),o=d(()=>s?s.rootZIndex.value-100:U),u=ve([]),n=R(new Map),r=R(new Map),i=R(new Map),v=R(new Map),p=R(new Map),{resizeRef:h,contentRect:b}=Se(),Q=d(()=>{const a=new Map,m=e.overlaps??[];for(const t of m.filter(c=>c.includes(":"))){const[c,l]=t.split(":");if(!u.value.includes(c)||!u.value.includes(l))continue;const y=n.get(c),g=n.get(l),w=r.get(c),L=r.get(l);!y||!g||!w||!L||(a.set(l,{position:y.value,amount:parseInt(w.value,10)}),a.set(c,{position:g.value,amount:-parseInt(L.value,10)}))}return a}),I=d(()=>{const a=[...new Set([...i.values()].map(t=>t.value))].sort((t,c)=>t-c),m=[];for(const t of a){const c=u.value.filter(l=>{var y;return((y=i.get(l))==null?void 0:y.value)===t});m.push(...c)}return Le(m,n,r,v)}),N=d(()=>!Array.from(p.values()).some(a=>a.value)),S=d(()=>I.value[I.value.length-1].layer),ee=z(()=>({"--v-layout-left":V(S.value.left),"--v-layout-right":V(S.value.right),"--v-layout-top":V(S.value.top),"--v-layout-bottom":V(S.value.bottom),...N.value?void 0:{transition:"none"}})),x=d(()=>I.value.slice(1).map((a,m)=>{let{id:t}=a;const{layer:c}=I.value[m],l=r.get(t),y=n.get(t);return{id:t,...c,size:Number(l.value),position:y.value}})),_=a=>x.value.find(m=>m.id===a),C=F("createLayout"),D=H(!1);W(()=>{D.value=!0}),X(P,{register:(a,m)=>{let{id:t,order:c,position:l,layoutSize:y,elementSize:g,active:w,disableTransitions:L,absolute:ae}=m;i.set(t,c),n.set(t,l),r.set(t,y),v.set(t,w),L&&p.set(t,L);const K=pe(G,C==null?void 0:C.vnode).indexOf(a);K>-1?u.value.splice(K,0,t):u.value.push(t);const j=d(()=>x.value.findIndex($=>$.id===t)),B=d(()=>o.value+I.value.length*2-j.value*2),ne=d(()=>{const $=l.value==="left"||l.value==="right",k=l.value==="right",le=l.value==="bottom",O=g.value??y.value,ue=O===0?"%":"px",q={[l.value]:0,zIndex:B.value,transform:`translate${$?"X":"Y"}(${(w.value?0:-(O===0?100:O))*(k||le?-1:1)}${ue})`,position:ae.value||o.value!==U?"absolute":"fixed",...N.value?void 0:{transition:"none"}};if(!D.value)return q;const f=x.value[j.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${t}"`);const T=Q.value.get(t);return T&&(f[T.position]+=T.amount),{...q,height:$?`calc(100% - ${f.top}px - ${f.bottom}px)`:g.value?`${g.value}px`:void 0,left:k?void 0:`${f.left}px`,right:k?`${f.right}px`:void 0,top:l.value!=="bottom"?`${f.top}px`:void 0,bottom:l.value!=="top"?`${f.bottom}px`:void 0,width:$?g.value?`${g.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),se=d(()=>({zIndex:B.value-1}));return{layoutItemStyles:ne,layoutItemScrimStyles:se,zIndex:B}},unregister:a=>{i.delete(a),n.delete(a),r.delete(a),v.delete(a),p.delete(a),u.value=u.value.filter(m=>m!==a)},mainRect:S,mainStyles:ee,getLayoutItem:_,items:x,layoutRect:b,rootZIndex:o});const te=z(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),oe=z(()=>({zIndex:s?o.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:te,layoutStyles:oe,getLayoutItem:_,items:x,layoutRect:b,layoutRef:h}}const Re=A({...Z(),...xe({fullHeight:!0}),...be()},"VApp"),Oe=J()({name:"VApp",props:Re(),setup(e,s){let{slots:o}=s;const u=ge(e),{layoutClasses:n,getLayoutItem:r,items:i,layoutRef:v}=$e(e),{rtlClasses:p}=he();return Y(()=>{var h;return M("div",{ref:v,class:["v-application",u.themeClasses.value,n.value,p.value,e.class],style:[e.style]},[M("div",{class:"v-application__wrap"},[(h=o.default)==null?void 0:h.call(o)])])}),{getLayoutItem:r,items:i,theme:u}}});function Ve(){const e=H(!1);return W(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:z(()=>e.value?void 0:{transition:"none !important"}),isBooted:Ie(e)}}const ze=A({scrollable:Boolean,...Z(),...ce(),...re({tag:"main"})},"VMain"),Te=J()({name:"VMain",props:ze(),setup(e,s){let{slots:o}=s;const{dimensionStyles:u}=ie(e),{mainStyles:n}=we(),{ssrBootStyles:r}=Ve();return Y(()=>M(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[n.value,r.value,u.value,e.style]},{default:()=>{var i,v;return[e.scrollable?M("div",{class:"v-main__scroller"},[(i=o.default)==null?void 0:i.call(o)]):(v=o.default)==null?void 0:v.call(o)]}})),{}}});export{Te as V,Oe as a,ke as b,Be as m,Ve as u};
